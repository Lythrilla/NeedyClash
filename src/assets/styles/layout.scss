.layout {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column; /* 纵向布局，为标题栏预留 */
  overflow: hidden;

  .layout-content {
    /* 现代化布局容器 */
    display: flex;
    flex-direction: row; /* 横向布局：侧边栏 + 主内容 */
    flex: 1;
    overflow: hidden;

    &__left {
      /* 极简响应式侧边栏 */
      flex: 0 0 180px;
      display: flex;
      height: 100%;
      padding: 12px 8px;
      flex-direction: column;
      gap: 6px;
      box-sizing: border-box;
      background: transparent;
      border-right: 1px solid var(--border-color);
      position: relative;
      overflow: hidden;

      .the-logo {
        /* 极简Logo区域 */
        position: relative;
        flex: 0 0 auto;
        display: flex;
        height: auto;
        padding: 2px;
        margin-bottom: 0;
        flex-direction: column;
        align-items: center;
        gap: 4px;

        .logo-wrapper {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        img,
        svg {
          width: 24px;
          height: 24px;
          pointer-events: none;
          opacity: 0.8;
        }

        .logo-text {
          font-size: 12px;
          font-weight: 400;
          letter-spacing: 0;
          opacity: 0.6;
        }
      }

      .the-menu {
        /* 可滚动菜单列表 */
        flex: 1 1 auto; /* 允许弹性增长和滚动 */
        overflow-y: auto; /* 启用垂直滚动 */
        overflow-x: hidden;
        margin: 0;
        padding: 0;
        
        /* 优化滚动条样式 */
        &::-webkit-scrollbar {
          width: 4px;
        }
        &::-webkit-scrollbar-thumb {
          background: var(--scroller-color);
          border-radius: 2px;
        }
        &::-webkit-scrollbar-track {
          background: transparent;
        }
      }

      .the-traffic {
        /* 紧凑流量显示 */
        flex: 0 0 auto;
        padding: 8px 0;
        margin-top: auto;
        border-top: 1px solid var(--border-color);

        > div {
          margin: 0;
          padding: 0;
        }
      }
    }

    &__right {
      /* 主内容区域 */
      position: relative;
      flex: 1 1 100%;
      height: 100%;
      overflow: hidden;
      display: flex;
      flex-direction: column;

      .the-content {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        overflow: auto;
      }
    }
  }
}

.linux,
.windows,
.unknown {
  &.layout {
    .the_titlebar {
      width: 100%;
      display: flex;
      justify-content: flex-end;
      padding: 10px;
      box-sizing: border-box;
      height: 36px;
      border-bottom: 1px solid var(--divider-color);
    }

    .layout-content__right .the-content {
      top: 5px;
    }
  }
}

.macos {
  &.layout {
    .the_titlebar {
      width: 100%;
      display: flex;
      justify-content: flex-start;
      padding: 10px;
      box-sizing: border-box;
      height: 36px;
      border-bottom: 1px solid var(--divider-color);
    }

    .layout-content__left {
      padding-top: 5px;
    }

    .layout-content__right .the-content {
      top: 5px;
    }
  }
}
